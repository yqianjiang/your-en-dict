import{u as Z}from"./userDict.js";import{c as Vr}from"./counter.js";import{L as be}from"./-plugin-vue-export-helper.js";import{U as Dn}from"./uploader.js";import{o as De,g as Ve,a7 as ln,a8 as Wr,A as Nr,O as Hr,T as Ur,a3 as ct,u as Ue,E as ae,G as qe,F as ut,V as Kr,c as te,H as ft,a9 as Vn,S as Yr,B as xn,R as H,$ as ht,C as _e,aa as gt,e as Zr,P as Jr,M as Xr,I as Gr,Q as Cn,m as Qr,d as eo,f as no,D as to,n as ro,L as oo,_ as io,z as ao,J as vn,w as vt,ab as Wn,ac as lo}from"./Suffix.js";import{B as ye,H as pt,w as Re,D as On,au as mt,at as on,r as z,aS as bt,ax as yt,d as ge,h as g,aE as so,aT as co,aG as pn,A as sn,f as E,a as $,ad as w,c as P,b as M,ag as Te,u as Ae,e as ue,L as pe,E as Nn,C as wt,ak as Hn,G as me,F as An,K as an,aU as xt,aV as uo,aW as Ct,aX as fo,aY as ho,aq as kn,am as go,O as vo,I as Rn,al as Un,T as En,aZ as po,a_ as kt,aC as mo,aH as Sn,o as he,i as ve,m as N,p as ee,k as Q,q as Oe,j as ce,t as ze,x as $e,aJ as Kn}from"./main.js";import{a as We,N as bo,W as mn}from"./wordList.js";import{u as yo,b as wo,_ as xo,N as Co,a as bn}from"./popup.js";function Ne(n){return Object.keys(n)}function ko(n,e,t){var r;const i=ye(n,null);if(i===null)return;const a=(r=pt())===null||r===void 0?void 0:r.proxy;Re(t,o),o(t.value),On(()=>{o(void 0,t.value)});function o(u,c){const f=i[e];c!==void 0&&l(f,c),u!==void 0&&d(f,u)}function l(u,c){u[c]||(u[c]=[]),u[c].splice(u[c].findIndex(f=>f===a),1)}function d(u,c){u[c]||(u[c]=[]),~u[c].findIndex(f=>f===a)||u[c].push(a)}}const Me=z(null);function Yn(n){if(n.clientX>0||n.clientY>0)Me.value={x:n.clientX,y:n.clientY};else{const{target:e}=n;if(e instanceof Element){const{left:t,top:r,width:i,height:a}=e.getBoundingClientRect();t>0||r>0?Me.value={x:t+i/2,y:r+a/2}:Me.value={x:0,y:0}}else Me.value=null}}let Qe=0,Zn=!0;function Ro(){if(!mt)return on(z(null));Qe===0&&De("click",document,Yn,!0);const n=()=>{Qe+=1};return Zn&&(Zn=bt())?(yt(n),On(()=>{Qe-=1,Qe===0&&Ve("click",document,Yn,!0)})):n(),on(Me)}const So=z(void 0);let en=0;function Jn(){So.value=Date.now()}let Xn=!0;function Fo(n){if(!mt)return on(z(!1));const e=z(!1);let t=null;function r(){t!==null&&window.clearTimeout(t)}function i(){r(),e.value=!0,t=window.setTimeout(()=>{e.value=!1},n)}en===0&&De("click",window,Jn,!0);const a=()=>{en+=1,De("click",window,i,!0)};return Xn&&(Xn=bt())?(yt(a),On(()=>{en-=1,en===0&&Ve("click",window,Jn,!0),Ve("click",window,i,!0),r()})):a(),on(e)}const _o=ge({name:"Eye",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),g("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),zo=ge({name:"EyeOff",render(){return g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},g("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),g("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),g("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),g("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),g("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),$o=ln("error",g("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),Gn=ln("info",g("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),Po=ln("success",g("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),Oo=ln("warning",g("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},g("g",{"fill-rule":"nonzero"},g("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),Ao=n=>{const{textColor2:e,textColor3:t,textColorDisabled:r,primaryColor:i,primaryColorHover:a,inputColor:o,inputColorDisabled:l,borderColor:d,warningColor:u,warningColorHover:c,errorColor:f,errorColorHover:h,borderRadius:F,lineHeight:C,fontSizeTiny:p,fontSizeSmall:b,fontSizeMedium:m,fontSizeLarge:R,heightTiny:k,heightSmall:S,heightMedium:y,heightLarge:x,actionColor:L,clearColor:T,clearColorHover:D,clearColorPressed:W,placeholderColor:A,placeholderColorDisabled:I,iconColor:B,iconColorDisabled:j,iconColorHover:J,iconColorPressed:re}=n;return Object.assign(Object.assign({},co),{countTextColor:t,heightTiny:k,heightSmall:S,heightMedium:y,heightLarge:x,fontSizeTiny:p,fontSizeSmall:b,fontSizeMedium:m,fontSizeLarge:R,lineHeight:C,lineHeightTextarea:C,borderRadius:F,iconSize:"16px",groupLabelColor:L,groupLabelTextColor:e,textColor:e,textColorDisabled:r,textDecorationColor:e,caretColor:i,placeholderColor:A,placeholderColorDisabled:I,color:o,colorDisabled:l,colorFocus:o,groupLabelBorder:`1px solid ${d}`,border:`1px solid ${d}`,borderHover:`1px solid ${a}`,borderDisabled:`1px solid ${d}`,borderFocus:`1px solid ${a}`,boxShadowFocus:`0 0 0 2px ${pn(i,{alpha:.2})}`,loadingColor:i,loadingColorWarning:u,borderWarning:`1px solid ${u}`,borderHoverWarning:`1px solid ${c}`,colorFocusWarning:o,borderFocusWarning:`1px solid ${c}`,boxShadowFocusWarning:`0 0 0 2px ${pn(u,{alpha:.2})}`,caretColorWarning:u,loadingColorError:f,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${h}`,colorFocusError:o,borderFocusError:`1px solid ${h}`,boxShadowFocusError:`0 0 0 2px ${pn(f,{alpha:.2})}`,caretColorError:f,clearColor:T,clearColorHover:D,clearColorPressed:W,iconColor:B,iconColorDisabled:j,iconColorHover:J,iconColorPressed:re,suffixTextColor:e})},Eo={name:"Input",common:so,self:Ao},Bo=Eo,Rt=sn("n-input");function Lo(n){let e=0;for(const t of n)e++;return e}function nn(n){return n===""||n==null}function To(n){const e=z(null);function t(){const{value:a}=n;if(!a||!a.focus){i();return}const{selectionStart:o,selectionEnd:l,value:d}=a;if(o==null||l==null){i();return}e.value={start:o,end:l,beforeText:d.slice(0,o),afterText:d.slice(l)}}function r(){var a;const{value:o}=e,{value:l}=n;if(!o||!l)return;const{value:d}=l,{start:u,beforeText:c,afterText:f}=o;let h=d.length;if(d.endsWith(f))h=d.length-f.length;else if(d.startsWith(c))h=c.length;else{const F=c[u-1],C=d.indexOf(F,u-1);C!==-1&&(h=C+1)}(a=l.setSelectionRange)===null||a===void 0||a.call(l,h,h)}function i(){e.value=null}return Re(n,i),{recordCursor:t,restoreCursor:r}}const Qn=ge({name:"InputWordCount",setup(n,{slots:e}){const{mergedValueRef:t,maxlengthRef:r,mergedClsPrefixRef:i}=ye(Rt),a=E(()=>{const{value:o}=t;return o===null||Array.isArray(o)?0:Lo(o)});return()=>{const{value:o}=r,{value:l}=t;return g("span",{class:`${i.value}-input-word-count`},Wr(e.default,{value:l===null||Array.isArray(l)?"":l},()=>[o===void 0?a.value:`${a.value} / ${o}`]))}}}),Mo=$("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[w("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),w("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),w("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[P("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),P("&::placeholder","color: #0000;"),P("&:-webkit-autofill ~",[w("placeholder","display: none;")])]),M("round",[Te("textarea","border-radius: calc(var(--n-height) / 2);")]),w("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[P("span",`
 width: 100%;
 display: inline-block;
 `)]),M("textarea",[w("placeholder","overflow: visible;")]),Te("autosize","width: 100%;"),M("autosize",[w("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),$("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),w("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),w("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[P("+",[w("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),Te("textarea",[w("placeholder","white-space: nowrap;")]),w("eye",`
 transition: color .3s var(--n-bezier);
 `),M("textarea","width: 100%;",[$("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),M("resizable",[$("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),w("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),w("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),M("pair",[w("input-el, placeholder","text-align: center;"),w("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[$("icon",`
 color: var(--n-icon-color);
 `),$("base-icon",`
 color: var(--n-icon-color);
 `)])]),M("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[w("border","border: var(--n-border-disabled);"),w("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `),w("placeholder","color: var(--n-placeholder-color-disabled);"),w("separator","color: var(--n-text-color-disabled);",[$("icon",`
 color: var(--n-icon-color-disabled);
 `),$("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),w("suffix, prefix","color: var(--n-text-color-disabled);",[$("icon",`
 color: var(--n-icon-color-disabled);
 `),$("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),Te("disabled",[w("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[P("&:hover",`
 color: var(--n-icon-color-hover);
 `),P("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),P("&:hover",[w("state-border","border: var(--n-border-hover);")]),M("focus","background-color: var(--n-color-focus);",[w("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),w("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),w("state-border",`
 border-color: #0000;
 z-index: 1;
 `),w("prefix","margin-right: 4px;"),w("suffix",`
 margin-left: 4px;
 `),w("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[$("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),$("base-clear",`
 font-size: var(--n-icon-size);
 `,[w("placeholder",[$("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),P(">",[$("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),$("base-icon",`
 font-size: var(--n-icon-size);
 `)]),$("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(n=>M(`${n}-status`,[Te("disabled",[$("base-loading",`
 color: var(--n-loading-color-${n})
 `),w("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${n});
 `),w("state-border",`
 border: var(--n-border-${n});
 `),P("&:hover",[w("state-border",`
 border: var(--n-border-hover-${n});
 `)]),P("&:focus",`
 background-color: var(--n-color-focus-${n});
 `,[w("state-border",`
 box-shadow: var(--n-box-shadow-focus-${n});
 border: var(--n-border-focus-${n});
 `)]),M("focus",`
 background-color: var(--n-color-focus-${n});
 `,[w("state-border",`
 box-shadow: var(--n-box-shadow-focus-${n});
 border: var(--n-border-focus-${n});
 `)])])]))]),Io=Object.assign(Object.assign({},ue.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),et=ge({name:"Input",props:Io,setup(n){const{mergedClsPrefixRef:e,mergedBorderedRef:t,inlineThemeDisabled:r,mergedRtlRef:i}=Ae(n),a=ue("Input","-input",Mo,Bo,n,e),o=z(null),l=z(null),d=z(null),u=z(null),c=z(null),f=z(null),h=z(null),F=To(h),C=z(null),{localeRef:p}=Nr("Input"),b=z(n.defaultValue),m=pe(n,"value"),R=Hr(m,b),k=Ur(n),{mergedSizeRef:S,mergedDisabledRef:y,mergedStatusRef:x}=k,L=z(!1),T=z(!1),D=z(!1),W=z(!1);let A=null;const I=E(()=>{const{placeholder:s,pair:v}=n;return v?Array.isArray(s)?s:s===void 0?["",""]:[s,s]:s===void 0?[p.value.placeholder]:[s]}),B=E(()=>{const{value:s}=D,{value:v}=R,{value:_}=I;return!s&&(nn(v)||Array.isArray(v)&&nn(v[0]))&&_[0]}),j=E(()=>{const{value:s}=D,{value:v}=R,{value:_}=I;return!s&&_[1]&&(nn(v)||Array.isArray(v)&&nn(v[1]))}),J=Nn(()=>n.internalForceFocus||L.value),re=Nn(()=>{if(y.value||n.readonly||!n.clearable||!J.value&&!T.value)return!1;const{value:s}=R,{value:v}=J;return n.pair?!!(Array.isArray(s)&&(s[0]||s[1]))&&(T.value||v):!!s&&(T.value||v)}),oe=E(()=>{const{showPasswordOn:s}=n;if(s)return s;if(n.showPasswordToggle)return"click"}),X=z(!1),se=E(()=>{const{textDecoration:s}=n;return s?Array.isArray(s)?s.map(v=>({textDecoration:v})):[{textDecoration:s}]:["",""]}),ie=z(void 0),fe=()=>{var s,v;if(n.type==="textarea"){const{autosize:_}=n;if(_&&(ie.value=(v=(s=C.value)===null||s===void 0?void 0:s.$el)===null||v===void 0?void 0:v.offsetWidth),!l.value||typeof _=="boolean")return;const{paddingTop:V,paddingBottom:K,lineHeight:Y}=window.getComputedStyle(l.value),we=Number(V.slice(0,-2)),xe=Number(K.slice(0,-2)),Ce=Number(Y.slice(0,-2)),{value:Be}=d;if(!Be)return;if(_.minRows){const Le=Math.max(_.minRows,1),gn=`${we+xe+Ce*Le}px`;Be.style.minHeight=gn}if(_.maxRows){const Le=`${we+xe+Ce*_.maxRows}px`;Be.style.maxHeight=Le}}},Se=E(()=>{const{maxlength:s}=n;return s===void 0?void 0:Number(s)});wt(()=>{const{value:s}=R;Array.isArray(s)||hn(s)});const de=pt().proxy;function ne(s){const{onUpdateValue:v,"onUpdate:value":_,onInput:V}=n,{nTriggerFormInput:K}=k;v&&H(v,s),_&&H(_,s),V&&H(V,s),b.value=s,K()}function q(s){const{onChange:v}=n,{nTriggerFormChange:_}=k;v&&H(v,s),b.value=s,_()}function G(s){const{onBlur:v}=n,{nTriggerFormBlur:_}=k;v&&H(v,s),_()}function dn(s){const{onFocus:v}=n,{nTriggerFormFocus:_}=k;v&&H(v,s),_()}function cn(s){const{onClear:v}=n;v&&H(v,s)}function un(s){const{onInputBlur:v}=n;v&&H(v,s)}function Ee(s){const{onInputFocus:v}=n;v&&H(v,s)}function Mn(){const{onDeactivate:s}=n;s&&H(s)}function $t(){const{onActivate:s}=n;s&&H(s)}function Pt(s){const{onClick:v}=n;v&&H(v,s)}function Ot(s){const{onWrapperFocus:v}=n;v&&H(v,s)}function At(s){const{onWrapperBlur:v}=n;v&&H(v,s)}function Et(){D.value=!0}function Bt(s){D.value=!1,s.target===f.value?Ze(s,1):Ze(s,0)}function Ze(s,v=0,_="input"){const V=s.target.value;if(hn(V),n.type==="textarea"){const{value:Y}=C;Y&&Y.syncUnifiedContainer()}if(A=V,D.value)return;F.recordCursor();const K=Lt(V);if(K)if(!n.pair)_==="input"?ne(V):q(V);else{let{value:Y}=R;Array.isArray(Y)?Y=[Y[0],Y[1]]:Y=["",""],Y[v]=V,_==="input"?ne(Y):q(Y)}de.$forceUpdate(),K||an(F.restoreCursor)}function Lt(s){const{allowInput:v}=n;return typeof v=="function"?v(s):!0}function Tt(s){un(s),s.relatedTarget===o.value&&Mn(),s.relatedTarget!==null&&(s.relatedTarget===c.value||s.relatedTarget===f.value||s.relatedTarget===l.value)||(W.value=!1),Je(s,"blur"),h.value=null}function Mt(s,v){Ee(s),L.value=!0,W.value=!0,$t(),Je(s,"focus"),v===0?h.value=c.value:v===1?h.value=f.value:v===2&&(h.value=l.value)}function It(s){n.passivelyActivated&&(At(s),Je(s,"blur"))}function qt(s){n.passivelyActivated&&(L.value=!0,Ot(s),Je(s,"focus"))}function Je(s,v){s.relatedTarget!==null&&(s.relatedTarget===c.value||s.relatedTarget===f.value||s.relatedTarget===l.value||s.relatedTarget===o.value)||(v==="focus"?(dn(s),L.value=!0):v==="blur"&&(G(s),L.value=!1))}function jt(s,v){Ze(s,v,"change")}function Dt(s){Pt(s)}function Vt(s){cn(s),n.pair?(ne(["",""]),q(["",""])):(ne(""),q(""))}function Wt(s){const{onMousedown:v}=n;v&&v(s);const{tagName:_}=s.target;if(_!=="INPUT"&&_!=="TEXTAREA"){if(n.resizable){const{value:V}=o;if(V){const{left:K,top:Y,width:we,height:xe}=V.getBoundingClientRect(),Ce=14;if(K+we-Ce<s.clientX&&s.clientY<K+we&&Y+xe-Ce<s.clientY&&s.clientY<Y+xe)return}}s.preventDefault(),L.value||In()}}function Nt(){var s;T.value=!0,n.type==="textarea"&&((s=C.value)===null||s===void 0||s.handleMouseEnterWrapper())}function Ht(){var s;T.value=!1,n.type==="textarea"&&((s=C.value)===null||s===void 0||s.handleMouseLeaveWrapper())}function Ut(){y.value||oe.value==="click"&&(X.value=!X.value)}function Kt(s){if(y.value)return;s.preventDefault();const v=V=>{V.preventDefault(),Ve("mouseup",document,v)};if(De("mouseup",document,v),oe.value!=="mousedown")return;X.value=!0;const _=()=>{X.value=!1,Ve("mouseup",document,_)};De("mouseup",document,_)}function Yt(s){var v;switch((v=n.onKeydown)===null||v===void 0||v.call(n,s),s.key){case"Escape":fn();break;case"Enter":Zt(s);break}}function Zt(s){var v,_;if(n.passivelyActivated){const{value:V}=W;if(V){n.internalDeactivateOnEnter&&fn();return}s.preventDefault(),n.type==="textarea"?(v=l.value)===null||v===void 0||v.focus():(_=c.value)===null||_===void 0||_.focus()}}function fn(){n.passivelyActivated&&(W.value=!1,an(()=>{var s;(s=o.value)===null||s===void 0||s.focus()}))}function In(){var s,v,_;y.value||(n.passivelyActivated?(s=o.value)===null||s===void 0||s.focus():((v=l.value)===null||v===void 0||v.focus(),(_=c.value)===null||_===void 0||_.focus()))}function Jt(){var s;!((s=o.value)===null||s===void 0)&&s.contains(document.activeElement)&&document.activeElement.blur()}function Xt(){var s,v;(s=l.value)===null||s===void 0||s.select(),(v=c.value)===null||v===void 0||v.select()}function Gt(){y.value||(l.value?l.value.focus():c.value&&c.value.focus())}function Qt(){const{value:s}=o;(s==null?void 0:s.contains(document.activeElement))&&s!==document.activeElement&&fn()}function er(s){if(n.type==="textarea"){const{value:v}=l;v==null||v.scrollTo(s)}else{const{value:v}=c;v==null||v.scrollTo(s)}}function hn(s){const{type:v,pair:_,autosize:V}=n;if(!_&&V)if(v==="textarea"){const{value:K}=d;K&&(K.textContent=(s!=null?s:"")+`\r
`)}else{const{value:K}=u;K&&(s?K.textContent=s:K.innerHTML="&nbsp;")}}function nr(){fe()}const qn=z({top:"0"});function tr(s){var v;const{scrollTop:_}=s.target;qn.value.top=`${-_}px`,(v=C.value)===null||v===void 0||v.syncUnifiedContainer()}let Xe=null;Hn(()=>{const{autosize:s,type:v}=n;s&&v==="textarea"?Xe=Re(R,_=>{!Array.isArray(_)&&_!==A&&hn(_)}):Xe==null||Xe()});let Ge=null;Hn(()=>{n.type==="textarea"?Ge=Re(R,s=>{var v;!Array.isArray(s)&&s!==A&&((v=C.value)===null||v===void 0||v.syncUnifiedContainer())}):Ge==null||Ge()}),me(Rt,{mergedValueRef:R,maxlengthRef:Se,mergedClsPrefixRef:e});const rr={wrapperElRef:o,inputElRef:c,textareaElRef:l,isCompositing:D,focus:In,blur:Jt,select:Xt,deactivate:Qt,activate:Gt,scrollTo:er},or=ct("Input",i,e),jn=E(()=>{const{value:s}=S,{common:{cubicBezierEaseInOut:v},self:{color:_,borderRadius:V,textColor:K,caretColor:Y,caretColorError:we,caretColorWarning:xe,textDecorationColor:Ce,border:Be,borderDisabled:Le,borderHover:gn,borderFocus:ir,placeholderColor:ar,placeholderColorDisabled:lr,lineHeightTextarea:sr,colorDisabled:dr,colorFocus:cr,textColorDisabled:ur,boxShadowFocus:fr,iconSize:hr,colorFocusWarning:gr,boxShadowFocusWarning:vr,borderWarning:pr,borderFocusWarning:mr,borderHoverWarning:br,colorFocusError:yr,boxShadowFocusError:wr,borderError:xr,borderFocusError:Cr,borderHoverError:kr,clearSize:Rr,clearColor:Sr,clearColorHover:Fr,clearColorPressed:_r,iconColor:zr,iconColorDisabled:$r,suffixTextColor:Pr,countTextColor:Or,iconColorHover:Ar,iconColorPressed:Er,loadingColor:Br,loadingColorError:Lr,loadingColorWarning:Tr,[te("padding",s)]:Mr,[te("fontSize",s)]:Ir,[te("height",s)]:qr}}=a.value,{left:jr,right:Dr}=ft(Mr);return{"--n-bezier":v,"--n-count-text-color":Or,"--n-color":_,"--n-font-size":Ir,"--n-border-radius":V,"--n-height":qr,"--n-padding-left":jr,"--n-padding-right":Dr,"--n-text-color":K,"--n-caret-color":Y,"--n-text-decoration-color":Ce,"--n-border":Be,"--n-border-disabled":Le,"--n-border-hover":gn,"--n-border-focus":ir,"--n-placeholder-color":ar,"--n-placeholder-color-disabled":lr,"--n-icon-size":hr,"--n-line-height-textarea":sr,"--n-color-disabled":dr,"--n-color-focus":cr,"--n-text-color-disabled":ur,"--n-box-shadow-focus":fr,"--n-loading-color":Br,"--n-caret-color-warning":xe,"--n-color-focus-warning":gr,"--n-box-shadow-focus-warning":vr,"--n-border-warning":pr,"--n-border-focus-warning":mr,"--n-border-hover-warning":br,"--n-loading-color-warning":Tr,"--n-caret-color-error":we,"--n-color-focus-error":yr,"--n-box-shadow-focus-error":wr,"--n-border-error":xr,"--n-border-focus-error":Cr,"--n-border-hover-error":kr,"--n-loading-color-error":Lr,"--n-clear-color":Sr,"--n-clear-size":Rr,"--n-clear-color-hover":Fr,"--n-clear-color-pressed":_r,"--n-icon-color":zr,"--n-icon-color-hover":Ar,"--n-icon-color-pressed":Er,"--n-icon-color-disabled":$r,"--n-suffix-text-color":Pr}}),Fe=r?Ue("input",E(()=>{const{value:s}=S;return s[0]}),jn,n):void 0;return Object.assign(Object.assign({},rr),{wrapperElRef:o,inputElRef:c,inputMirrorElRef:u,inputEl2Ref:f,textareaElRef:l,textareaMirrorElRef:d,textareaScrollbarInstRef:C,rtlEnabled:or,uncontrolledValue:b,mergedValue:R,passwordVisible:X,mergedPlaceholder:I,showPlaceholder1:B,showPlaceholder2:j,mergedFocus:J,isComposing:D,activated:W,showClearButton:re,mergedSize:S,mergedDisabled:y,textDecorationStyle:se,mergedClsPrefix:e,mergedBordered:t,mergedShowPasswordOn:oe,placeholderStyle:qn,mergedStatus:x,textAreaScrollContainerWidth:ie,handleTextAreaScroll:tr,handleCompositionStart:Et,handleCompositionEnd:Bt,handleInput:Ze,handleInputBlur:Tt,handleInputFocus:Mt,handleWrapperBlur:It,handleWrapperFocus:qt,handleMouseEnter:Nt,handleMouseLeave:Ht,handleMouseDown:Wt,handleChange:jt,handleClick:Dt,handleClear:Vt,handlePasswordToggleClick:Ut,handlePasswordToggleMousedown:Kt,handleWrapperKeydown:Yt,handleTextAreaMirrorResize:nr,getTextareaScrollContainer:()=>l.value,mergedTheme:a,cssVars:r?void 0:jn,themeClass:Fe==null?void 0:Fe.themeClass,onRender:Fe==null?void 0:Fe.onRender})},render(){var n,e;const{mergedClsPrefix:t,mergedStatus:r,themeClass:i,type:a,onRender:o}=this,l=this.$slots;return o==null||o(),g("div",{ref:"wrapperElRef",class:[`${t}-input`,i,r&&`${t}-input--${r}-status`,{[`${t}-input--rtl`]:this.rtlEnabled,[`${t}-input--disabled`]:this.mergedDisabled,[`${t}-input--textarea`]:a==="textarea",[`${t}-input--resizable`]:this.resizable&&!this.autosize,[`${t}-input--autosize`]:this.autosize,[`${t}-input--round`]:this.round&&a!=="textarea",[`${t}-input--pair`]:this.pair,[`${t}-input--focus`]:this.mergedFocus,[`${t}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},g("div",{class:`${t}-input-wrapper`},ae(l.prefix,d=>d&&g("div",{class:`${t}-input__prefix`},d)),a==="textarea"?g(ut,{ref:"textareaScrollbarInstRef",class:`${t}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var d,u;const{textAreaScrollContainerWidth:c}=this,f={width:this.autosize&&c&&`${c}px`};return g(An,null,g("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${t}-input__textarea-el`,(d=this.inputProps)===null||d===void 0?void 0:d.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(u=this.inputProps)===null||u===void 0?void 0:u.style,f],onBlur:this.handleInputBlur,onFocus:h=>this.handleInputFocus(h,2),onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?g("div",{class:`${t}-input__placeholder`,style:[this.placeholderStyle,f],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?g(Kr,{onResize:this.handleTextAreaMirrorResize},{default:()=>g("div",{ref:"textareaMirrorElRef",class:`${t}-input__textarea-mirror`,key:"mirror"})}):null)}}):g("div",{class:`${t}-input__input`},g("input",Object.assign({type:a==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":a},this.inputProps,{ref:"inputElRef",class:[`${t}-input__input-el`,(n=this.inputProps)===null||n===void 0?void 0:n.class],style:[this.textDecorationStyle[0],(e=this.inputProps)===null||e===void 0?void 0:e.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:d=>this.handleInputFocus(d,0),onInput:d=>this.handleInput(d,0),onChange:d=>this.handleChange(d,0)})),this.showPlaceholder1?g("div",{class:`${t}-input__placeholder`},g("span",null,this.mergedPlaceholder[0])):null,this.autosize?g("div",{class:`${t}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&ae(l.suffix,d=>d||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?g("div",{class:`${t}-input__suffix`},[ae(l["clear-icon-placeholder"],u=>(this.clearable||u)&&g(Vn,{clsPrefix:t,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>u,icon:()=>{var c,f;return(f=(c=this.$slots)["clear-icon"])===null||f===void 0?void 0:f.call(c)}})),this.internalLoadingBeforeSuffix?null:d,this.loading!==void 0?g(Yr,{clsPrefix:t,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?d:null,this.showCount&&this.type!=="textarea"?g(Qn,null,{default:u=>{var c;return(c=l.count)===null||c===void 0?void 0:c.call(l,u)}}):null,this.mergedShowPasswordOn&&this.type==="password"?g("div",{class:`${t}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?qe(l["password-visible-icon"],()=>[g(xn,{clsPrefix:t},{default:()=>g(_o,null)})]):qe(l["password-invisible-icon"],()=>[g(xn,{clsPrefix:t},{default:()=>g(zo,null)})])):null]):null)),this.pair?g("span",{class:`${t}-input__separator`},qe(l.separator,()=>[this.separator])):null,this.pair?g("div",{class:`${t}-input-wrapper`},g("div",{class:`${t}-input__input`},g("input",{ref:"inputEl2Ref",type:this.type,class:`${t}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:d=>this.handleInputFocus(d,1),onInput:d=>this.handleInput(d,1),onChange:d=>this.handleChange(d,1)}),this.showPlaceholder2?g("div",{class:`${t}-input__placeholder`},g("span",null,this.mergedPlaceholder[1])):null),ae(l.suffix,d=>(this.clearable||d)&&g("div",{class:`${t}-input__suffix`},[this.clearable&&g(Vn,{clsPrefix:t,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var u;return(u=l["clear-icon"])===null||u===void 0?void 0:u.call(l)},placeholder:()=>{var u;return(u=l["clear-icon-placeholder"])===null||u===void 0?void 0:u.call(l)}}),d]))):null,this.mergedBordered?g("div",{class:`${t}-input__border`}):null,this.mergedBordered?g("div",{class:`${t}-input__state-border`}):null,this.showCount&&a==="textarea"?g(Qn,null,{default:d=>{var u;return(u=l.count)===null||u===void 0?void 0:u.call(l,d)}}):null)}}),qo=P([$("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[M("hoverable",[P("&:hover","box-shadow: var(--n-box-shadow);")]),M("content-segmented",[P(">",[w("content",{paddingTop:"var(--n-padding-bottom)"})])]),M("content-soft-segmented",[P(">",[w("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),M("footer-segmented",[P(">",[w("footer",{paddingTop:"var(--n-padding-bottom)"})])]),M("footer-soft-segmented",[P(">",[w("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),P(">",[$("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[w("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),w("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),w("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),w("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),w("content","flex: 1;"),w("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[P("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),w("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),$("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[P("img",`
 display: block;
 width: 100%;
 `)]),M("bordered",`
 border: 1px solid var(--n-border-color);
 `,[P("&:target","border-color: var(--n-color-target);")]),M("action-segmented",[P(">",[w("action",[P("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),M("content-segmented, content-soft-segmented",[P(">",[w("content",{transition:"border-color 0.3s var(--n-bezier)"},[P("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),M("footer-segmented, footer-soft-segmented",[P(">",[w("footer",{transition:"border-color 0.3s var(--n-bezier)"},[P("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])])]),xt($("card",{background:"var(--n-color-modal)"})),uo($("card",{background:"var(--n-color-popover)"})),$("card",[Ct({background:"var(--n-color-modal)"})])]),Bn={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},jo=Ne(Bn),Do=Object.assign(Object.assign({},ue.props),Bn),St=ge({name:"Card",props:Do,setup(n){const e=()=>{const{onClose:u}=n;u&&H(u)},{inlineThemeDisabled:t,mergedClsPrefixRef:r,mergedRtlRef:i}=Ae(n),a=ue("Card","-card",qo,fo,n,r),o=ct("Card",i,r),l=E(()=>{const{size:u}=n,{self:{color:c,colorModal:f,colorTarget:h,textColor:F,titleTextColor:C,titleFontWeight:p,borderColor:b,actionColor:m,borderRadius:R,lineHeight:k,closeIconColor:S,closeIconColorHover:y,closeIconColorPressed:x,closeColorHover:L,closeColorPressed:T,closeBorderRadius:D,closeIconSize:W,closeSize:A,boxShadow:I,colorPopover:B,colorEmbedded:j,[te("padding",u)]:J,[te("fontSize",u)]:re,[te("titleFontSize",u)]:oe},common:{cubicBezierEaseInOut:X}}=a.value,{top:se,left:ie,bottom:fe}=ft(J);return{"--n-bezier":X,"--n-border-radius":R,"--n-color":n.embedded?j:c,"--n-color-modal":f,"--n-color-popover":B,"--n-color-target":h,"--n-text-color":F,"--n-line-height":k,"--n-action-color":m,"--n-title-text-color":C,"--n-title-font-weight":p,"--n-close-icon-color":S,"--n-close-icon-color-hover":y,"--n-close-icon-color-pressed":x,"--n-close-color-hover":L,"--n-close-color-pressed":T,"--n-border-color":b,"--n-box-shadow":I,"--n-padding-top":se,"--n-padding-bottom":fe,"--n-padding-left":ie,"--n-font-size":re,"--n-title-font-size":oe,"--n-close-size":A,"--n-close-icon-size":W,"--n-close-border-radius":D}}),d=t?Ue("card",E(()=>n.size[0]),l,n):void 0;return{rtlEnabled:o,mergedClsPrefix:r,mergedTheme:a,handleCloseClick:e,cssVars:t?void 0:l,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender}},render(){const{segmented:n,bordered:e,hoverable:t,mergedClsPrefix:r,rtlEnabled:i,onRender:a,$slots:o}=this;return a==null||a(),g("div",{class:[`${r}-card`,this.themeClass,{[`${r}-card--rtl`]:i,[`${r}-card--content${typeof n!="boolean"&&n.content==="soft"?"-soft":""}-segmented`]:n===!0||n!==!1&&n.content,[`${r}-card--footer${typeof n!="boolean"&&n.footer==="soft"?"-soft":""}-segmented`]:n===!0||n!==!1&&n.footer,[`${r}-card--action-segmented`]:n===!0||n!==!1&&n.action,[`${r}-card--bordered`]:e,[`${r}-card--hoverable`]:t}],style:this.cssVars,role:this.role},ae(o.cover,l=>l&&g("div",{class:`${r}-card-cover`,role:"none"},l)),ae(o.header,l=>l||this.title||this.closable?g("div",{class:`${r}-card-header`,style:this.headerStyle},g("div",{class:`${r}-card-header__main`,role:"heading"},l||[this.title]),ae(o["header-extra"],d=>d&&g("div",{class:`${r}-card-header__extra`,style:this.headerExtraStyle},d)),this.closable?g(ht,{clsPrefix:r,class:`${r}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),ae(o.default,l=>l&&g("div",{class:`${r}-card__content`,style:this.contentStyle,role:"none"},l)),ae(o.footer,l=>l&&[g("div",{class:`${r}-card__footer`,style:this.footerStyle,role:"none"},l)]),ae(o.action,l=>l&&g("div",{class:`${r}-card__action`,role:"none"},l)))}}),Ln={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},Vo=Ne(Ln),Wo=P([$("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[w("icon",{color:"var(--n-icon-color)"}),M("bordered",{border:"var(--n-border)"}),M("icon-top",[w("close",{margin:"var(--n-close-margin)"}),w("icon",{margin:"var(--n-icon-margin)"}),w("content",{textAlign:"center"}),w("title",{justifyContent:"center"}),w("action",{justifyContent:"center"})]),M("icon-left",[w("icon",{margin:"var(--n-icon-margin)"}),M("closable",[w("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),w("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),w("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[M("last","margin-bottom: 0;")]),w("action",`
 display: flex;
 justify-content: flex-end;
 `,[P("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),w("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),w("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),$("dialog-icon-container",{display:"flex",justifyContent:"center"})]),xt($("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),$("dialog",[Ct(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),No={default:()=>g(Gn,null),info:()=>g(Gn,null),success:()=>g(Po,null),warning:()=>g(Oo,null),error:()=>g($o,null)},Ho=ge({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},ue.props),Ln),setup(n){const{mergedComponentPropsRef:e,mergedClsPrefixRef:t,inlineThemeDisabled:r}=Ae(n),i=E(()=>{var f,h;const{iconPlacement:F}=n;return F||((h=(f=e==null?void 0:e.value)===null||f===void 0?void 0:f.Dialog)===null||h===void 0?void 0:h.iconPlacement)||"left"});function a(f){const{onPositiveClick:h}=n;h&&h(f)}function o(f){const{onNegativeClick:h}=n;h&&h(f)}function l(){const{onClose:f}=n;f&&f()}const d=ue("Dialog","-dialog",Wo,ho,n,t),u=E(()=>{const{type:f}=n,h=i.value,{common:{cubicBezierEaseInOut:F},self:{fontSize:C,lineHeight:p,border:b,titleTextColor:m,textColor:R,color:k,closeBorderRadius:S,closeColorHover:y,closeColorPressed:x,closeIconColor:L,closeIconColorHover:T,closeIconColorPressed:D,closeIconSize:W,borderRadius:A,titleFontWeight:I,titleFontSize:B,padding:j,iconSize:J,actionSpace:re,contentMargin:oe,closeSize:X,[h==="top"?"iconMarginIconTop":"iconMargin"]:se,[h==="top"?"closeMarginIconTop":"closeMargin"]:ie,[te("iconColor",f)]:fe}}=d.value;return{"--n-font-size":C,"--n-icon-color":fe,"--n-bezier":F,"--n-close-margin":ie,"--n-icon-margin":se,"--n-icon-size":J,"--n-close-size":X,"--n-close-icon-size":W,"--n-close-border-radius":S,"--n-close-color-hover":y,"--n-close-color-pressed":x,"--n-close-icon-color":L,"--n-close-icon-color-hover":T,"--n-close-icon-color-pressed":D,"--n-color":k,"--n-text-color":R,"--n-border-radius":A,"--n-padding":j,"--n-line-height":p,"--n-border":b,"--n-content-margin":oe,"--n-title-font-size":B,"--n-title-font-weight":I,"--n-title-text-color":m,"--n-action-space":re}}),c=r?Ue("dialog",E(()=>`${n.type[0]}${i.value[0]}`),u,n):void 0;return{mergedClsPrefix:t,mergedIconPlacement:i,mergedTheme:d,handlePositiveClick:a,handleNegativeClick:o,handleCloseClick:l,cssVars:r?void 0:u,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var n;const{bordered:e,mergedIconPlacement:t,cssVars:r,closable:i,showIcon:a,title:o,content:l,action:d,negativeText:u,positiveText:c,positiveButtonProps:f,negativeButtonProps:h,handlePositiveClick:F,handleNegativeClick:C,mergedTheme:p,loading:b,type:m,mergedClsPrefix:R}=this;(n=this.onRender)===null||n===void 0||n.call(this);const k=a?g(xn,{clsPrefix:R,class:`${R}-dialog__icon`},{default:()=>ae(this.$slots.icon,y=>y||(this.icon?_e(this.icon):No[this.type]()))}):null,S=ae(this.$slots.action,y=>y||c||u||d?g("div",{class:`${R}-dialog__action`},y||(d?[_e(d)]:[this.negativeText&&g(We,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,ghost:!0,size:"small",onClick:C},h),{default:()=>_e(this.negativeText)}),this.positiveText&&g(We,Object.assign({theme:p.peers.Button,themeOverrides:p.peerOverrides.Button,size:"small",type:m==="default"?"primary":m,disabled:b,loading:b,onClick:F},f),{default:()=>_e(this.positiveText)})])):null);return g("div",{class:[`${R}-dialog`,this.themeClass,this.closable&&`${R}-dialog--closable`,`${R}-dialog--icon-${t}`,e&&`${R}-dialog--bordered`],style:r,role:"dialog"},i?g(ht,{clsPrefix:R,class:`${R}-dialog__close`,onClick:this.handleCloseClick}):null,a&&t==="top"?g("div",{class:`${R}-dialog-icon-container`},k):null,g("div",{class:`${R}-dialog__title`},a&&t==="left"?k:null,qe(this.$slots.header,()=>[_e(o)])),g("div",{class:[`${R}-dialog__content`,S?"":`${R}-dialog__content--last`]},qe(this.$slots.default,()=>[_e(l)])),S)}}),Uo=sn("n-dialog-provider"),Tn=Object.assign(Object.assign({},Bn),Ln),Ko=Ne(Tn),Yo=ge({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},Tn),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(n){const e=z(null),t=z(null),r=z(n.show),i=z(null),a=z(null);Re(pe(n,"show"),b=>{b&&(r.value=!0)}),yo(E(()=>n.blockScroll&&r.value));const o=ye(gt);function l(){if(o.transformOriginRef.value==="center")return"";const{value:b}=i,{value:m}=a;if(b===null||m===null)return"";if(t.value){const R=t.value.containerScrollTop;return`${b}px ${m+R}px`}return""}function d(b){if(o.transformOriginRef.value==="center")return;const m=o.getMousePosition();if(!m||!t.value)return;const R=t.value.containerScrollTop,{offsetLeft:k,offsetTop:S}=b;if(m){const y=m.y,x=m.x;i.value=-(k-x),a.value=-(S-y-R)}b.style.transformOrigin=l()}function u(b){an(()=>{d(b)})}function c(b){b.style.transformOrigin=l(),n.onBeforeLeave()}function f(){r.value=!1,i.value=null,a.value=null,n.onAfterLeave()}function h(){const{onClose:b}=n;b&&b()}function F(){n.onNegativeClick()}function C(){n.onPositiveClick()}const p=z(null);return Re(p,b=>{b&&an(()=>{const m=b.el;m&&e.value!==m&&(e.value=m)})}),me(Qr,e),me(eo,null),me(Zr,null),{mergedTheme:o.mergedThemeRef,appear:o.appearRef,isMounted:o.isMountedRef,mergedClsPrefix:o.mergedClsPrefixRef,bodyRef:e,scrollbarRef:t,displayed:r,childNodeRef:p,handlePositiveClick:C,handleNegativeClick:F,handleCloseClick:h,handleAfterLeave:f,handleBeforeLeave:c,handleEnter:u}},render(){const{$slots:n,$attrs:e,handleEnter:t,handleAfterLeave:r,handleBeforeLeave:i,preset:a,mergedClsPrefix:o}=this;let l=null;if(!a){if(l=Jr(n),!l){kn("modal","default slot is empty");return}l=go(l),l.props=vo({class:`${o}-modal`},e,l.props||{})}return this.displayDirective==="show"||this.displayed||this.show?Rn(g("div",{role:"none",class:`${o}-modal-body-wrapper`},g(ut,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${o}-modal-scroll-content`},{default:()=>{var d;return[(d=this.renderMask)===null||d===void 0?void 0:d.call(this),g(Xr,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var u;return g(En,{name:"fade-in-scale-up-transition",appear:(u=this.appear)!==null&&u!==void 0?u:this.isMounted,onEnter:t,onAfterEnter:this.onAfterEnter,onAfterLeave:r,onBeforeLeave:i},{default:()=>{const c=[[Un,this.show]],{onClickoutside:f}=this;return f&&c.push([Gr,this.onClickoutside,void 0,{capture:!0}]),Rn(this.preset==="confirm"||this.preset==="dialog"?g(Ho,Object.assign({},this.$attrs,{class:[`${o}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},Cn(this.$props,Vo),{"aria-modal":"true"}),n):this.preset==="card"?g(St,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${o}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},Cn(this.$props,jo),{"aria-modal":"true",role:"dialog"}),n):this.childNodeRef=l,c)}})}})]}})),[[Un,this.displayDirective==="if"||this.displayed||this.show]]):null}}),Zo=P([$("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),$("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[no({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),$("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[$("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),$("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[to({duration:".25s",enterScale:".5"})])]),Jo=Object.assign(Object.assign(Object.assign(Object.assign({},ue.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),Tn),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),Xo=ge({name:"Modal",inheritAttrs:!1,props:Jo,setup(n){const e=z(null),{mergedClsPrefixRef:t,namespaceRef:r,inlineThemeDisabled:i}=Ae(n),a=ue("Modal","-modal",Zo,po,n,t),o=Fo(64),l=Ro(),d=ro(),u=n.internalDialog?ye(Uo,null):null,c=wo();function f(y){const{onUpdateShow:x,"onUpdate:show":L,onHide:T}=n;x&&H(x,y),L&&H(L,y),T&&!y&&T(y)}function h(){const{onClose:y}=n;y?Promise.resolve(y()).then(x=>{x!==!1&&f(!1)}):f(!1)}function F(){const{onPositiveClick:y}=n;y?Promise.resolve(y()).then(x=>{x!==!1&&f(!1)}):f(!1)}function C(){const{onNegativeClick:y}=n;y?Promise.resolve(y()).then(x=>{x!==!1&&f(!1)}):f(!1)}function p(){const{onBeforeLeave:y,onBeforeHide:x}=n;y&&H(y),x&&x()}function b(){const{onAfterLeave:y,onAfterHide:x}=n;y&&H(y),x&&x()}function m(y){var x;const{onMaskClick:L}=n;L&&L(y),n.maskClosable&&!((x=e.value)===null||x===void 0)&&x.contains(y.target)&&f(!1)}function R(y){var x;(x=n.onEsc)===null||x===void 0||x.call(n),n.show&&n.closeOnEsc&&io(y)&&!c.value&&f(!1)}me(gt,{getMousePosition:()=>{if(u){const{clickedRef:y,clickPositionRef:x}=u;if(y.value&&x.value)return x.value}return o.value?l.value:null},mergedClsPrefixRef:t,mergedThemeRef:a,isMountedRef:d,appearRef:pe(n,"internalAppear"),transformOriginRef:pe(n,"transformOrigin")});const k=E(()=>{const{common:{cubicBezierEaseOut:y},self:{boxShadow:x,color:L,textColor:T}}=a.value;return{"--n-bezier-ease-out":y,"--n-box-shadow":x,"--n-color":L,"--n-text-color":T}}),S=i?Ue("theme-class",void 0,k,n):void 0;return{mergedClsPrefix:t,namespace:r,isMounted:d,containerRef:e,presetProps:E(()=>Cn(n,Ko)),handleEsc:R,handleAfterLeave:b,handleClickoutside:m,handleBeforeLeave:p,doUpdateShow:f,handleNegativeClick:C,handlePositiveClick:F,handleCloseClick:h,cssVars:i?void 0:k,themeClass:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender}},render(){const{mergedClsPrefix:n}=this;return g(oo,{to:this.to,show:this.show},{default:()=>{var e;(e=this.onRender)===null||e===void 0||e.call(this);const{unstableShowMask:t}=this;return Rn(g("div",{role:"none",ref:"containerRef",class:[`${n}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},g(Yo,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:t?void 0:this.handleClickoutside,renderMask:t?()=>{var r;return g(En,{name:"fade-in-transition",key:"mask",appear:(r=this.internalAppear)!==null&&r!==void 0?r:this.isMounted},{default:()=>this.show?g("div",{"aria-hidden":!0,ref:"containerRef",class:`${n}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[ao,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Go=$("form",[M("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[$("form-item",{width:"auto",marginRight:"18px"},[P("&:last-child",{marginRight:0})])])]),Ke=sn("n-form"),Ft=sn("n-form-item-insts");var Qo=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,d)}u((r=r.apply(n,e||[])).next())})};const ei=Object.assign(Object.assign({},ue.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:n=>n.preventDefault()},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),ni=ge({name:"Form",props:ei,setup(n){const{mergedClsPrefixRef:e}=Ae(n);ue("Form","-form",Go,kt,n,e);const t={},r=z(void 0),i=d=>{const u=r.value;(u===void 0||d>=u)&&(r.value=d)};function a(d,u=()=>!0){return Qo(this,void 0,void 0,function*(){return yield new Promise((c,f)=>{const h=[];for(const F of Ne(t)){const C=t[F];for(const p of C)p.path&&h.push(p.internalValidate(null,u))}Promise.all(h).then(F=>{if(F.some(C=>!C.valid)){const C=F.filter(p=>p.errors).map(p=>p.errors);d&&d(C),f(C)}else d&&d(),c()})})})}function o(){for(const d of Ne(t)){const u=t[d];for(const c of u)c.restoreValidation()}}return me(Ke,{props:n,maxChildLabelWidthRef:r,deriveMaxChildLabelWidth:i}),me(Ft,{formItems:t}),Object.assign({validate:a,restoreValidation:o},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:n}=this;return g("form",{class:[`${n}-form`,this.inline&&`${n}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function ke(){return ke=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ke.apply(this,arguments)}function ti(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,He(n,e)}function Fn(n){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fn(n)}function He(n,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},He(n,e)}function ri(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rn(n,e,t){return ri()?rn=Reflect.construct.bind():rn=function(i,a,o){var l=[null];l.push.apply(l,a);var d=Function.bind.apply(i,l),u=new d;return o&&He(u,o.prototype),u},rn.apply(null,arguments)}function oi(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function _n(n){var e=typeof Map=="function"?new Map:void 0;return _n=function(r){if(r===null||!oi(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return rn(r,arguments,Fn(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),He(i,r)},_n(n)}var ii=/%[sdj%]/g,ai=function(){};typeof process<"u"&&process.env;function zn(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function le(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,a=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var o=n.replace(ii,function(l){if(l==="%%")return"%";if(i>=a)return l;switch(l){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return l}});return o}return n}function li(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function U(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||li(e)&&typeof n=="string"&&!n)}function si(n,e,t){var r=[],i=0,a=n.length;function o(l){r.push.apply(r,l||[]),i++,i===a&&t(r)}n.forEach(function(l){e(l,o)})}function nt(n,e,t){var r=0,i=n.length;function a(o){if(o&&o.length){t(o);return}var l=r;r=r+1,l<i?e(n[l],a):t([])}a([])}function di(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var tt=function(n){ti(e,n);function e(t,r){var i;return i=n.call(this,"Async Validation Error")||this,i.errors=t,i.fields=r,i}return e}(_n(Error));function ci(n,e,t,r,i){if(e.first){var a=new Promise(function(h,F){var C=function(m){return r(m),m.length?F(new tt(m,zn(m))):h(i)},p=di(n);nt(p,t,C)});return a.catch(function(h){return h}),a}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],l=Object.keys(n),d=l.length,u=0,c=[],f=new Promise(function(h,F){var C=function(b){if(c.push.apply(c,b),u++,u===d)return r(c),c.length?F(new tt(c,zn(c))):h(i)};l.length||(r(c),h(i)),l.forEach(function(p){var b=n[p];o.indexOf(p)!==-1?nt(b,t,C):si(b,t,C)})});return f.catch(function(h){return h}),f}function ui(n){return!!(n&&n.message!==void 0)}function fi(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function rt(n,e){return function(t){var r;return n.fullFields?r=fi(e,n.fullFields):r=e[t.field||n.fullField],ui(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function ot(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=ke({},n[t],r):n[t]=r}}return n}var _t=function(e,t,r,i,a,o){e.required&&(!r.hasOwnProperty(e.field)||U(t,o||e.type))&&i.push(le(a.messages.required,e.fullField))},hi=function(e,t,r,i,a){(/^\s+$/.test(t)||t==="")&&i.push(le(a.messages.whitespace,e.fullField))},tn,gi=function(){if(tn)return tn;var n="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+t+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+t+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+t+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),o=new RegExp("^"+t+"$"),l=new RegExp("^"+i+"$"),d=function(S){return S&&S.exact?a:new RegExp("(?:"+e(S)+t+e(S)+")|(?:"+e(S)+i+e(S)+")","g")};d.v4=function(k){return k&&k.exact?o:new RegExp(""+e(k)+t+e(k),"g")},d.v6=function(k){return k&&k.exact?l:new RegExp(""+e(k)+i+e(k),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=d.v4().source,h=d.v6().source,F="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",C="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',R="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+h+"|"+F+C+p+")"+b+m;return tn=new RegExp("(?:^"+R+"$)","i"),tn},it={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ie={integer:function(e){return Ie.number(e)&&parseInt(e,10)===e},float:function(e){return Ie.number(e)&&!Ie.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Ie.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(it.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(gi())},hex:function(e){return typeof e=="string"&&!!e.match(it.hex)}},vi=function(e,t,r,i,a){if(e.required&&t===void 0){_t(e,t,r,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=e.type;o.indexOf(l)>-1?Ie[l](t)||i.push(le(a.messages.types[l],e.fullField,e.type)):l&&typeof t!==e.type&&i.push(le(a.messages.types[l],e.fullField,e.type))},pi=function(e,t,r,i,a){var o=typeof e.len=="number",l=typeof e.min=="number",d=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=t,f=null,h=typeof t=="number",F=typeof t=="string",C=Array.isArray(t);if(h?f="number":F?f="string":C&&(f="array"),!f)return!1;C&&(c=t.length),F&&(c=t.replace(u,"_").length),o?c!==e.len&&i.push(le(a.messages[f].len,e.fullField,e.len)):l&&!d&&c<e.min?i.push(le(a.messages[f].min,e.fullField,e.min)):d&&!l&&c>e.max?i.push(le(a.messages[f].max,e.fullField,e.max)):l&&d&&(c<e.min||c>e.max)&&i.push(le(a.messages[f].range,e.fullField,e.min,e.max))},Pe="enum",mi=function(e,t,r,i,a){e[Pe]=Array.isArray(e[Pe])?e[Pe]:[],e[Pe].indexOf(t)===-1&&i.push(le(a.messages[Pe],e.fullField,e[Pe].join(", ")))},bi=function(e,t,r,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(le(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||i.push(le(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},O={required:_t,whitespace:hi,type:vi,range:pi,enum:mi,pattern:bi},yi=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t,"string")&&!e.required)return r();O.required(e,t,i,o,a,"string"),U(t,"string")||(O.type(e,t,i,o,a),O.range(e,t,i,o,a),O.pattern(e,t,i,o,a),e.whitespace===!0&&O.whitespace(e,t,i,o,a))}r(o)},wi=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&O.type(e,t,i,o,a)}r(o)},xi=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(t===""&&(t=void 0),U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&(O.type(e,t,i,o,a),O.range(e,t,i,o,a))}r(o)},Ci=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&O.type(e,t,i,o,a)}r(o)},ki=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),U(t)||O.type(e,t,i,o,a)}r(o)},Ri=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&(O.type(e,t,i,o,a),O.range(e,t,i,o,a))}r(o)},Si=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&(O.type(e,t,i,o,a),O.range(e,t,i,o,a))}r(o)},Fi=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(t==null&&!e.required)return r();O.required(e,t,i,o,a,"array"),t!=null&&(O.type(e,t,i,o,a),O.range(e,t,i,o,a))}r(o)},_i=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&O.type(e,t,i,o,a)}r(o)},zi="enum",$i=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a),t!==void 0&&O[zi](e,t,i,o,a)}r(o)},Pi=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t,"string")&&!e.required)return r();O.required(e,t,i,o,a),U(t,"string")||O.pattern(e,t,i,o,a)}r(o)},Oi=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t,"date")&&!e.required)return r();if(O.required(e,t,i,o,a),!U(t,"date")){var d;t instanceof Date?d=t:d=new Date(t),O.type(e,d,i,o,a),d&&O.range(e,d.getTime(),i,o,a)}}r(o)},Ai=function(e,t,r,i,a){var o=[],l=Array.isArray(t)?"array":typeof t;O.required(e,t,i,o,a,l),r(o)},yn=function(e,t,r,i,a){var o=e.type,l=[],d=e.required||!e.required&&i.hasOwnProperty(e.field);if(d){if(U(t,o)&&!e.required)return r();O.required(e,t,i,l,a,o),U(t,o)||O.type(e,t,i,l,a)}r(l)},Ei=function(e,t,r,i,a){var o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(U(t)&&!e.required)return r();O.required(e,t,i,o,a)}r(o)},je={string:yi,method:wi,number:xi,boolean:Ci,regexp:ki,integer:Ri,float:Si,array:Fi,object:_i,enum:$i,pattern:Pi,date:Oi,url:yn,hex:yn,email:yn,required:Ai,any:Ei};function $n(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Pn=$n(),Ye=function(){function n(t){this.rules=null,this._messages=Pn,this.define(t)}var e=n.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var o=r[a];i.rules[a]=Array.isArray(o)?o:[o]})},e.messages=function(r){return r&&(this._messages=ot($n(),r)),this._messages},e.validate=function(r,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var l=r,d=i,u=a;if(typeof d=="function"&&(u=d,d={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,l),Promise.resolve(l);function c(p){var b=[],m={};function R(S){if(Array.isArray(S)){var y;b=(y=b).concat.apply(y,S)}else b.push(S)}for(var k=0;k<p.length;k++)R(p[k]);b.length?(m=zn(b),u(b,m)):u(null,l)}if(d.messages){var f=this.messages();f===Pn&&(f=$n()),ot(f,d.messages),d.messages=f}else d.messages=this.messages();var h={},F=d.keys||Object.keys(this.rules);F.forEach(function(p){var b=o.rules[p],m=l[p];b.forEach(function(R){var k=R;typeof k.transform=="function"&&(l===r&&(l=ke({},l)),m=l[p]=k.transform(m)),typeof k=="function"?k={validator:k}:k=ke({},k),k.validator=o.getValidationMethod(k),k.validator&&(k.field=p,k.fullField=k.fullField||p,k.type=o.getType(k),h[p]=h[p]||[],h[p].push({rule:k,value:m,source:l,field:p}))})});var C={};return ci(h,d,function(p,b){var m=p.rule,R=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");R=R&&(m.required||!m.required&&p.value),m.field=p.field;function k(x,L){return ke({},L,{fullField:m.fullField+"."+x,fullFields:m.fullFields?[].concat(m.fullFields,[x]):[x]})}function S(x){x===void 0&&(x=[]);var L=Array.isArray(x)?x:[x];!d.suppressWarning&&L.length&&n.warning("async-validator:",L),L.length&&m.message!==void 0&&(L=[].concat(m.message));var T=L.map(rt(m,l));if(d.first&&T.length)return C[m.field]=1,b(T);if(!R)b(T);else{if(m.required&&!p.value)return m.message!==void 0?T=[].concat(m.message).map(rt(m,l)):d.error&&(T=[d.error(m,le(d.messages.required,m.field))]),b(T);var D={};m.defaultField&&Object.keys(p.value).map(function(I){D[I]=m.defaultField}),D=ke({},D,p.rule.fields);var W={};Object.keys(D).forEach(function(I){var B=D[I],j=Array.isArray(B)?B:[B];W[I]=j.map(k.bind(null,I))});var A=new n(W);A.messages(d.messages),p.rule.options&&(p.rule.options.messages=d.messages,p.rule.options.error=d.error),A.validate(p.value,p.rule.options||d,function(I){var B=[];T&&T.length&&B.push.apply(B,T),I&&I.length&&B.push.apply(B,I),b(B.length?B:null)})}}var y;if(m.asyncValidator)y=m.asyncValidator(m,p.value,S,p.source,d);else if(m.validator){try{y=m.validator(m,p.value,S,p.source,d)}catch(x){console.error==null||console.error(x),d.suppressValidatorError||setTimeout(function(){throw x},0),S(x.message)}y===!0?S():y===!1?S(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):y instanceof Array?S(y):y instanceof Error&&S(y.message)}y&&y.then&&y.then(function(){return S()},function(x){return S(x)})},function(p){c(p)},l)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!je.hasOwnProperty(r.type))throw new Error(le("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?je.required:je[this.getType(r)]||void 0},n}();Ye.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");je[e]=t};Ye.warning=ai;Ye.messages=Pn;Ye.validators=je;function Bi(n){const e=ye(Ke,null);return{mergedSize:E(()=>n.size!==void 0?n.size:(e==null?void 0:e.props.size)!==void 0?e.props.size:"medium")}}function Li(n){const e=ye(Ke,null),t=E(()=>{if(r.value==="top")return;const{labelWidth:h}=n;if(h!==void 0&&h!=="auto")return vn(h);if(h==="auto"||(e==null?void 0:e.props.labelWidth)==="auto"){const F=e==null?void 0:e.maxChildLabelWidthRef.value;return F!==void 0?vn(F):void 0}if((e==null?void 0:e.props.labelWidth)!==void 0)return vn(e.props.labelWidth)}),r=E(()=>{const{labelPlacement:h}=n;return h!==void 0?h:e!=null&&e.props.labelPlacement?e.props.labelPlacement:"top"}),i=E(()=>{const{labelAlign:h}=n;if(h)return h;if(e!=null&&e.props.labelAlign)return e.props.labelAlign}),a=E(()=>{var h;return[(h=n.labelProps)===null||h===void 0?void 0:h.style,n.labelStyle,{width:t.value}]}),o=E(()=>{const{showRequireMark:h}=n;return h!==void 0?h:e==null?void 0:e.props.showRequireMark}),l=E(()=>{const{requireMarkPlacement:h}=n;return h!==void 0?h:(e==null?void 0:e.props.requireMarkPlacement)||"right"}),d=z(!1),u=E(()=>{const{validationStatus:h}=n;if(h!==void 0)return h;if(d.value)return"error"}),c=E(()=>{const{showFeedback:h}=n;return h!==void 0?h:(e==null?void 0:e.props.showFeedback)!==void 0?e.props.showFeedback:!0}),f=E(()=>{const{showLabel:h}=n;return h!==void 0?h:(e==null?void 0:e.props.showLabel)!==void 0?e.props.showLabel:!0});return{validationErrored:d,mergedLabelStyle:a,mergedLabelPlacement:r,mergedLabelAlign:i,mergedShowRequireMark:o,mergedRequireMarkPlacement:l,mergedValidationStatus:u,mergedShowFeedback:c,mergedShowLabel:f}}function Ti(n){const e=ye(Ke,null),t=E(()=>{const{rulePath:o}=n;if(o!==void 0)return o;const{path:l}=n;if(l!==void 0)return l}),r=E(()=>{const o=[],{rule:l}=n;if(l!==void 0&&(Array.isArray(l)?o.push(...l):o.push(l)),e){const{rules:d}=e.props,{value:u}=t;if(d!==void 0&&u!==void 0){const c=vt(d,u);c!==void 0&&(Array.isArray(c)?o.push(...c):o.push(c))}}return o}),i=E(()=>r.value.some(o=>o.required)),a=E(()=>i.value||n.required);return{mergedRules:r,mergedRequired:a}}const{cubicBezierEaseInOut:at}=mo;function Mi({name:n="fade-down",fromOffset:e="-4px",enterDuration:t=".3s",leaveDuration:r=".3s",enterCubicBezier:i=at,leaveCubicBezier:a=at}={}){return[P(`&.${n}-transition-enter-from, &.${n}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),P(`&.${n}-transition-enter-to, &.${n}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),P(`&.${n}-transition-leave-active`,{transition:`opacity ${r} ${a}, transform ${r} ${a}`}),P(`&.${n}-transition-enter-active`,{transition:`opacity ${t} ${i}, transform ${t} ${i}`})]}const Ii=$("form-item",{display:"grid",lineHeight:"var(--n-line-height)"},[$("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 `,[w("asterisk",`
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),w("asterisk-placeholder",`
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),$("form-item-blank",{gridArea:"blank",minHeight:"var(--n-blank-height)"}),M("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 `,[$("form-item-label",`
 height: var(--n-blank-height);
 line-height: var(--n-blank-height);
 box-sizing: border-box;
 white-space: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `)]),M("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: var(--n-label-height) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[M("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),$("form-item-label",{display:"flex",alignItems:"flex-end",justifyContent:"var(--n-label-text-align)"})]),$("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),$("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[P("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),$("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[M("warning",{color:"var(--n-feedback-text-color-warning)"}),M("error",{color:"var(--n-feedback-text-color-error)"}),Mi({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);var lt=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{u(r.next(c))}catch(f){o(f)}}function d(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,d)}u((r=r.apply(n,e||[])).next())})};const qi=Object.assign(Object.assign({},ue.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object});function st(n,e){return(...t)=>{try{const r=n(...t);return!e&&(typeof r=="boolean"||r instanceof Error||Array.isArray(r))||(r==null?void 0:r.then)?r:(r===void 0||kn("form-item/validate",`You return a ${typeof r} typed value in the validator method, which is not recommended. Please use `+(e?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(r){kn("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(r);return}}}const wn=ge({name:"FormItem",props:qi,setup(n){ko(Ft,"formItems",pe(n,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:t}=Ae(n),r=ye(Ke,null),i=Bi(n),a=Li(n),{validationErrored:o}=a,{mergedRequired:l,mergedRules:d}=Ti(n),{mergedSize:u}=i,{mergedLabelPlacement:c,mergedLabelAlign:f}=a,h=z([]),F=z(Wn()),C=r?pe(r.props,"disabled"):z(!1),p=ue("Form","-form-item",Ii,kt,n,e);Re(pe(n,"path"),()=>{n.ignorePathChange||b()});function b(){h.value=[],o.value=!1,n.feedback&&(F.value=Wn())}function m(){x("blur")}function R(){x("change")}function k(){x("focus")}function S(){x("input")}function y(A,I){return lt(this,void 0,void 0,function*(){let B,j,J,re;return typeof A=="string"?(B=A,j=I):A!==null&&typeof A=="object"&&(B=A.trigger,j=A.callback,J=A.shouldRuleBeApplied,re=A.options),yield new Promise((oe,X)=>{x(B,J,re).then(({valid:se,errors:ie})=>{se?(j&&j(),oe()):(j&&j(ie),X(ie))})})})}const x=(A=null,I=()=>!0,B={suppressWarning:!0})=>lt(this,void 0,void 0,function*(){const{path:j}=n;B?B.first||(B.first=n.first):B={};const{value:J}=d,re=r?vt(r.props.model,j||""):void 0,oe={},X={},se=(A?J.filter(de=>Array.isArray(de.trigger)?de.trigger.includes(A):de.trigger===A):J).filter(I).map((de,ne)=>{const q=Object.assign({},de);if(q.validator&&(q.validator=st(q.validator,!1)),q.asyncValidator&&(q.asyncValidator=st(q.asyncValidator,!0)),q.renderMessage){const G=`__renderMessage__${ne}`;X[G]=q.message,q.message=G,oe[G]=q.renderMessage}return q});if(!se.length)return{valid:!0};const ie=j!=null?j:"__n_no_path__",fe=new Ye({[ie]:se}),{validateMessages:Se}=(r==null?void 0:r.props)||{};return Se&&fe.messages(Se),yield new Promise(de=>{fe.validate({[ie]:re},B,ne=>{ne!=null&&ne.length?(h.value=ne.map(q=>{const G=(q==null?void 0:q.message)||"";return{key:G,render:()=>G.startsWith("__renderMessage__")?oe[G]():G}}),ne.forEach(q=>{var G;!((G=q.message)===null||G===void 0)&&G.startsWith("__renderMessage__")&&(q.message=X[q.message])}),o.value=!0,de({valid:!1,errors:ne})):(b(),de({valid:!0}))})})});me(lo,{path:pe(n,"path"),disabled:C,mergedSize:i.mergedSize,mergedValidationStatus:a.mergedValidationStatus,restoreValidation:b,handleContentBlur:m,handleContentChange:R,handleContentFocus:k,handleContentInput:S});const L={validate:y,restoreValidation:b,internalValidate:x},T=z(null);wt(()=>{T.value!==null&&(r==null||r.deriveMaxChildLabelWidth(Number(getComputedStyle(T.value).width.slice(0,-2))))});const D=E(()=>{var A;const{value:I}=u,{value:B}=c,j=B==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:J},self:{labelTextColor:re,asteriskColor:oe,lineHeight:X,feedbackTextColor:se,feedbackTextColorWarning:ie,feedbackTextColorError:fe,feedbackPadding:Se,[te("labelHeight",I)]:de,[te("blankHeight",I)]:ne,[te("feedbackFontSize",I)]:q,[te("feedbackHeight",I)]:G,[te("labelPadding",j)]:dn,[te("labelTextAlign",j)]:cn,[te(te("labelFontSize",B),I)]:un}}=p.value;let Ee=(A=f.value)!==null&&A!==void 0?A:cn;return B==="top"&&(Ee=Ee==="right"?"flex-end":"flex-start"),{"--n-bezier":J,"--n-line-height":X,"--n-blank-height":ne,"--n-label-font-size":un,"--n-label-text-align":Ee,"--n-label-height":de,"--n-label-padding":dn,"--n-asterisk-color":oe,"--n-label-text-color":re,"--n-feedback-padding":Se,"--n-feedback-font-size":q,"--n-feedback-height":G,"--n-feedback-text-color":se,"--n-feedback-text-color-warning":ie,"--n-feedback-text-color-error":fe}}),W=Ue("form-item",E(()=>{var A;return`${u.value[0]}${c.value[0]}${((A=f.value)===null||A===void 0?void 0:A[0])||""}`}),D,n);return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:T,mergedClsPrefix:e,mergedRequired:l,feedbackId:F,renderExplains:h},a),i),L),{cssVars:t?void 0:D,themeClass:W==null?void 0:W.themeClass,onRender:W==null?void 0:W.onRender})},render(){var n;const{$slots:e,mergedClsPrefix:t,mergedShowLabel:r,mergedShowRequireMark:i,mergedRequireMarkPlacement:a,onRender:o}=this,l=i!==void 0?i:this.mergedRequired;return o==null||o(),g("div",{class:[`${t}-form-item`,this.themeClass,`${t}-form-item--${this.mergedSize}-size`,`${t}-form-item--${this.mergedLabelPlacement}-labelled`,!r&&`${t}-form-item--no-label`],style:this.cssVars},r&&(this.label||e.label)?g("label",Object.assign({},this.labelProps,{class:[(n=this.labelProps)===null||n===void 0?void 0:n.class,`${t}-form-item-label`],style:this.mergedLabelStyle,ref:"labelElementRef"}),a!=="left"?e.label?e.label():this.label:null,l?g("span",{class:`${t}-form-item-label__asterisk`},a!=="left"?"\xA0*":"*\xA0"):a==="right-hanging"&&g("span",{class:`${t}-form-item-label__asterisk-placeholder`},"\xA0*"),a==="left"?e.label?e.label():this.label:null):null,g("div",{class:[`${t}-form-item-blank`,this.mergedValidationStatus&&`${t}-form-item-blank--${this.mergedValidationStatus}`]},e),this.mergedShowFeedback?g("div",{key:this.feedbackId,class:`${t}-form-item-feedback-wrapper`},g(En,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:d}=this;return ae(e.feedback,u=>{var c;const{feedback:f}=this,h=u||f?g("div",{key:"__feedback__",class:`${t}-form-item-feedback__line`},u||f):this.renderExplains.length?(c=this.renderExplains)===null||c===void 0?void 0:c.map(({key:F,render:C})=>g("div",{key:F,class:`${t}-form-item-feedback__line`},C())):null;return h?d==="warning"?g("div",{key:"controlled-warning",class:`${t}-form-item-feedback ${t}-form-item-feedback--warning`},h):d==="error"?g("div",{key:"controlled-error",class:`${t}-form-item-feedback ${t}-form-item-feedback--error`},h):d==="success"?g("div",{key:"controlled-success",class:`${t}-form-item-feedback ${t}-form-item-feedback--success`},h):g("div",{key:"controlled-default",class:`${t}-form-item-feedback`},h):null})}})):null)}});async function ji(n){try{const e=await be.User.logIn(n.username,n.password);console.log("\u767B\u5F55\u6210\u529F",e)}catch(e){console.log(e)}}function Di(){be.User.logOut()}function zt(){return be.User.current()}async function Vi(){const n=new be.Query("UserDict"),e=be.User.current();n.equalTo("user",e);try{return(await n.find()).map(r=>r.toJSON())}catch(t){return console.log(t),t}}async function Wi(n){const e=be.Object.extend("UserDict"),t=new e,r=be.User.current();t.set("user",r),t.set("unknown",n.unknown),t.set("known",n.known);try{await t.save(),console.log("\u4FDD\u5B58\u6210\u529F\uFF01")}catch(i){console.log(i)}}async function Ni(n,e){const t=be.Object.createWithoutData("UserDict",e);t.addUnique("known",n.known),t.addUnique("unknown",n.unknown),console.log("userDict",t),console.log("uploading known words",n.known),console.log("uploading unknown words",n.unknown);try{await t.save(),console.log("\u5DF2\u66F4\u65B0\u81F3\u4E91\u7AEF\uFF01")}catch(r){console.log(r)}}function dt(n,e){const t={},r=[];for(const i of e)t[i]=1;for(const i of n)t[i]||r.push(i),delete t[i];return{toCloud:Object.keys(t),toLocal:r}}async function Hi(n){const e=await Vi();if(console.log(e),!e.length){await Wi(n);return}const t=dt(e[0].known,n.known),r=dt(e[0].unknown,n.unknown);return(t.toCloud.length||r.toCloud.length)&&await Ni({known:t.toCloud,unknown:r.toCloud},e[0].objectId),{known:t.toLocal,unknown:r.toLocal}}const Ui=Oe("\u767B\u5F55"),Ki=Oe("\u53D6\u6D88"),Yi={__name:"LoginForm",emits:["login","logout"],setup(n,{emit:e}){const t=z(null),r=z(!1),i=z(!1),a=z(!1);zt()&&(a.value=!0);const o=z({username:"",password:""}),l=Sn({username:{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},password:{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}});function d(c){var f;c.preventDefault(),i.value=!0,(f=t.value)==null||f.validate(async h=>{h&&console.log(h);try{await ji(o.value),e("login"),r.value=!1}catch(F){console.log(F)}i.value=!1})}function u(){Di(),a.value=!1,e("logout")}return(c,f)=>(he(),ve(An,null,[a.value?(he(),ve("button",{key:0,onClick:u},"\u767B\u51FA")):(he(),ve("button",{key:1,onClick:f[0]||(f[0]=h=>r.value=!0)},"\u767B\u5F55")),N(Q(Xo),{show:r.value,"onUpdate:show":f[4]||(f[4]=h=>r.value=h)},{default:ee(()=>[N(Q(St),{role:"dialog",style:{"max-width":"400px",margin:"auto"}},{default:ee(()=>[N(Q(ni),{ref_key:"formRef",ref:t,"label-width":80,model:o.value,rules:l,size:"medium"},{default:ee(()=>[N(Q(wn),{label:"\u7528\u6237\u540D",path:"username"},{default:ee(()=>[N(Q(et),{value:o.value.username,"onUpdate:value":f[1]||(f[1]=h=>o.value.username=h),placeholder:"\u8F93\u5165\u7528\u6237\u540D"},null,8,["value"])]),_:1}),N(Q(wn),{label:"\u5BC6\u7801",path:"password"},{default:ee(()=>[N(Q(et),{value:o.value.password,"onUpdate:value":f[2]||(f[2]=h=>o.value.password=h),type:"password",placeholder:"\u8F93\u5165\u5BC6\u7801"},null,8,["value"])]),_:1}),N(Q(wn),null,{default:ee(()=>[N(Q(bo),null,{default:ee(()=>[N(Q(We),{loading:i.value,onClick:d},{default:ee(()=>[Ui]),_:1},8,["loading"]),N(Q(We),{onClick:f[3]||(f[3]=h=>r.value=!1)},{default:ee(()=>[Ki]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["show"])],64))}},Zi={key:0},Ji=Oe("\u4E91\u7AEF\u540C\u6B65"),Xi=ce("button",null,"\u5BFC\u51FA\u8BCD\u8868",-1),Gi=[Xi],Qi=ce("a",{href:"#/me/word-list?q=known"},"\u6211\u7684\u719F\u8BCD",-1),ea=ce("hr",null,null,-1),na=ce("a",{href:"#/me/word-list?q=unknown"},"\u6211\u7684\u751F\u8BCD",-1),ta=ce("hr",null,null,-1),ra={key:1},oa=Oe(" \u76EE\u6807\u8BCD\u8868 "),ha={__name:"me",setup(n){const e=z("Me"),t=z(!1),r=z(!1),i=z(!1),a=Sn({known:[],unknown:[],unseen:[]}),o=Sn({known:0,unknown:0,target:0}),l=z(!1);zt()&&(l.value=!0);function d(){const{known:C,unknown:p,unseen:b}=Vr(Z.targetWords.map(m=>m[0]),Z.knownWords,Z.unknownWords);a.unknown=p,a.known=C,a.unseen=b}function u(){o.known=Z.knownWords.length,o.unknown=Z.unknownWords.length,o.target=Z.targetWords.length,o.target&&d()}u();const c="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({known:Z.knownWords,unknown:Z.unknownWords}));function f(C){const p=JSON.parse(decodeURIComponent(C));p.known&&p.unknown&&(Z.addKnownWords(p.known),Z.addUnknownWords(p.unknown),Z.save(),console.log("\u5BFC\u5165\u6210\u529F\uFF01"),u()),t.value=!1}function h(C){Z.targetWords=JSON.parse(C),Z.save(),r.value=!1,u()}async function F(){i.value=!0;const C=await Hi({known:Z.knownWords,unknown:Z.unknownWords});C&&(console.log("\u4ECE\u4E91\u7AEF\u4E0B\u8F7D\uFF1A",C),Z.addKnownWords(C.known),Z.addUnknownWords(C.unknown),Z.save(),console.log("\u540C\u6B65\u6210\u529F\uFF01"),u()),i.value=!1}return(C,p)=>(he(),ve(An,null,[ce("h1",null,ze(e.value),1),l.value?(he(),ve("span",Zi,[N(Q(We),{loading:i.value,onClick:F},{default:ee(()=>[Ji]),_:1},8,["loading"])])):$e("",!0),N(Yi,{onLogin:p[0]||(p[0]=b=>l.value=!0),onLogout:p[1]||(p[1]=b=>l.value=!1)}),ce("div",null,[t.value?$e("",!0):(he(),ve("button",{key:0,onClick:p[2]||(p[2]=b=>t.value=!0)},"\u5BFC\u5165\u8BCD\u8868")),t.value?(he(),Kn(Dn,{key:1,onSubmit:f,onCancel:p[3]||(p[3]=b=>t.value=!1)})):$e("",!0),r.value?$e("",!0):(he(),ve("button",{key:2,onClick:p[4]||(p[4]=b=>r.value=!0)}," \u4E0A\u4F20\u76EE\u6807\u8BCD\u8868 ")),r.value?(he(),Kn(Dn,{key:3,onSubmit:h,onCancel:p[5]||(p[5]=b=>r.value=!1)})):$e("",!0),ce("a",{download:"myDict.json",href:c},Gi)]),ce("div",null,[Qi,Oe(" (\u5171"+ze(o.known)+"\u4E2A) ",1),ea]),ce("div",null,[na,Oe(" (\u5171"+ze(o.unknown)+"\u4E2A) ",1),ta]),o.target?(he(),ve("div",ra,[N(xo,{btnText:"\u76EE\u6807\u8BCD\u8868"},{header:ee(()=>[oa]),default:ee(()=>[N(Q(Co),{type:"segment"},{default:ee(()=>[N(Q(bn),{name:"0",tab:`\u751F\u8BCD (${a.unknown.length})`},{default:ee(()=>[N(mn,{words:a.unknown},null,8,["words"])]),_:1},8,["tab"]),N(Q(bn),{name:"1",tab:`\u672A\u6807\u8BB0 (${a.unseen.length})`},{default:ee(()=>[N(mn,{words:a.unseen},null,8,["words"])]),_:1},8,["tab"]),N(Q(bn),{name:"2",tab:`\u719F\u8BCD (${a.known.length})`},{default:ee(()=>[N(mn,{words:a.known},null,8,["words"])]),_:1},8,["tab"])]),_:1})]),_:1}),ce("div",null,"(\u5171"+ze(o.target)+"\u4E2A)",1),ce("div",null," ("+ze(a.unseen.length)+"\u672A\u6807\u8BB0\uFF0C\u5DF2\u6807\u6CE8\u638C\u63E1"+ze((a.known.length/(a.known.length+a.unknown.length)*100).toFixed(2))+"%) ",1)])):$e("",!0)],64))}};export{ha as default};

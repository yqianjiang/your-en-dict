import{i as B,m as S,t as W,r,o as a,c as d,w as _,v as A,a as o,b as n,d as w,e as i,u as c,f as t,g as p,F as T,h as j,j as g}from"./main.js";import{R as z}from"./ReadingView.js";import{u as D}from"./userDict.js";import{a as k}from"./articles.js";import{N as f,a as M}from"./WordList.js";import"./counter.js";import"./dict.js";import"./lc.js";import"./Popup.js";import"./Suffix.js";import"./Select.js";import"./-plugin-vue-export-helper.js";function U(){const m=B(S,null);return m===null&&W("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),m}const q={key:0,class:"article-input-area"},E=g("\u5206\u6790"),F=g("\u4FDD\u5B58"),I=g("\u6E05\u7A7A"),R={key:1,class:"stats-info"},$={__name:"home",setup(m){document.title="\u4F60\u7684\u5B9A\u5236\u82F1\u8BED\u8BCD\u5178";const s=r(""),e=r(null),l=r(null),v=r(!1),y=U();function N(){const{stats:h,article:u}=k.analyzeArticle(D,s.value);e.value=h[0],l.value=u}async function x(){v.value=!0,await k.saveArticle(l.value),v.value=!1,y.success("\u6587\u7AE0\u5DF2\u4FDD\u5B58\u5230\u672C\u5730\u6587\u7AE0\u5217\u8868")}function V(){s.value="",e.value=null,l.value=null}return(h,u)=>(a(),d(T,null,[e.value?n("",!0):(a(),d("div",q,[_(o("textarea",{cols:"30",rows:"10","onUpdate:modelValue":u[0]||(u[0]=C=>s.value=C)},null,512),[[A,s.value]])])),w(c(M),null,{default:i(()=>[e.value?n("",!0):(a(),p(c(f),{key:0,onClick:N},{default:i(()=>[E]),_:1})),e.value?(a(),p(c(f),{key:1,loading:v.value,onClick:x},{default:i(()=>[F]),_:1},8,["loading"])):n("",!0),_(w(c(f),{onClick:V},{default:i(()=>[I]),_:1},512),[[j,s.value]])]),_:1}),e.value?(a(),d("div",R,[o("p",null,"\u603B\u5B57\u6570"+t(e.value.totalWords)+"\u8BCD",1),o("p",null," \u8BCD\u6C47\u91CF"+t(e.value.totalUniqueWords)+"\u8BCD(\u76EE\u6807"+t(e.value.targetWords.length)+") ",1),o("p",null," \u751F\u8BCD"+t(e.value.unknown.length)+"\u8BCD(\u76EE\u6807"+t(e.value.unknownTargetWords.length)+") ",1),o("p",null," \u672A\u6807\u8BB0\u8BCD"+t(e.value.unseen.length)+"\u8BCD(\u76EE\u6807"+t(e.value.unseenTargetWords.length)+") ",1)])):n("",!0),l.value?(a(),p(z,{key:2,article:l.value},null,8,["article"])):n("",!0)],64))}};export{$ as default};

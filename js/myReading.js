import{$ as S,r as n,aZ as U,k as f,o as a,c as t,a as c,e as i,u,F as d,a1 as k,w as q,aI as x,b as D,g as y,a3 as N}from"./main.js";import{a as o}from"./articles.js";import{u as m}from"./userDict.js";import{U as R}from"./uploader.js";import{_ as V}from"./ReadingListItem.js";import"./lc.js";import"./counter.js";import"./-plugin-vue-export-helper.js";import"./Tag.js";const $=y(" \u7B5B\u9009\uFF1A "),C={key:0,href:"#/my-reading"},F={key:1},L=y(" | "),E={key:0},H=["href"],P={__name:"myReading",setup(I){document.title="myReading - \u4F60\u7684\u5B9A\u5236\u82F1\u8BED\u8BCD\u5178";const h=S(),v=n("\u6211\u7684\u9605\u8BFB"),r=U({read:[],marked:[],local:[]}),l=f(()=>h.query.q),A=f(()=>l.value?r[l.value]:[...r.read,...r.marked,...r.local]),w=n([{tag:"read",label:"\u6B63\u5728\u6807\u8BB0"},{tag:"marked",label:"\u5DF2\u6807\u8BB0"},{tag:"local",label:"\u672C\u5730\u6587\u7AE0"}]),p=async()=>{r.read=await o.getOpenedArticles(m)||[],r.marked=await o.getMarkedArticles(m)||[],r.local=await o.getLocalArticles(m)||[]};p();const s=n(!1),b=()=>{s.value=!0},B=async _=>{await o.addArticle(_),s.value=!1,p()};return(_,g)=>(a(),t(d,null,[c("h1",null,i(v.value),1),c("div",null,[$,u(l)?(a(),t("a",C,"All")):(a(),t("span",F,"All")),(a(!0),t(d,null,k(w.value,e=>(a(),t("span",{key:e.tag},[L,u(l)===e.tag?(a(),t("span",E,i(e.label),1)):(a(),t("a",{key:1,href:"#/my-reading?q="+e.tag},i(e.label),9,H))]))),128))]),c("button",{onClick:b},"\u65B0\u589E\u6587\u7AE0"),q(D(R,{onSubmit:B,onCancel:g[0]||(g[0]=e=>s.value=!1)},null,512),[[x,s.value]]),(a(!0),t(d,null,k(u(A),e=>(a(),N(V,{article:e,key:e.uuid},null,8,["article"]))),128))],64))}};export{P as default};
